const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-C5byPmBQ.js","assets/react-vendor-B5RUpvsH.js","assets/vendor-57qY9EKr.js","assets/firebase-C7cuFLc_.js","assets/Navbar-CgXrB6UM.js","assets/AdminDashboard-CiGCLW9H.js","assets/Login-ge6hURMs.js","assets/Menu-B4gcXeJq.js","assets/About-Dlwzewaj.js","assets/Account-MNNV-gJW.js"])))=>i.map(i=>d[i]);
import{r as f,j as e,u as H,S as A,X as J,T as D,M as Q,P as X,U as G,A as W,L as Z,a as F,N as C,O as L,R as y,H as ee,b as te,c as g,d as se}from"./react-vendor-B5RUpvsH.js";import{i as ae,g as re,a as ne,b as oe,c as ce,o as le,d as M,e as T,s as ie,f as de,h as xe}from"./firebase-C7cuFLc_.js";import{t as k}from"./vendor-57qY9EKr.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&m(u)}).observe(document,{childList:!0,subtree:!0});function s(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function m(t){if(t.ep)return;t.ep=!0;const l=s(t);fetch(t.href,l)}})();const ue="modulepreload",pe=function(c){return"/fakekitchen/"+c},R={},N=function(a,s,m){let t=Promise.resolve();if(s&&s.length>0){let v=function(p){return Promise.all(p.map(d=>Promise.resolve(d).then(r=>({status:"fulfilled",value:r}),r=>({status:"rejected",reason:r}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),i=u?.nonce||u?.getAttribute("nonce");t=v(s.map(p=>{if(p=pe(p),p in R)return;R[p]=!0;const d=p.endsWith(".css"),r=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${r}`))return;const n=document.createElement("link");if(n.rel=d?"stylesheet":ue,d||(n.as="script"),n.crossOrigin="",n.href=p,i&&n.setAttribute("nonce",i),document.head.appendChild(n),d)return new Promise((_,o)=>{n.addEventListener("load",_),n.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=u,window.dispatchEvent(i),!i.defaultPrevented)throw u}return t.then(u=>{for(const i of u||[])i.status==="rejected"&&l(i.reason);return a().catch(l)})},B=f.createContext(),fe=()=>f.useContext(B),me=({children:c})=>{const[a,s]=f.useState(()=>{const r=localStorage.getItem("cart");return r?JSON.parse(r):[]}),[m,t]=f.useState(!1);f.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(a))},[a]);const l=r=>{s(n=>n.find(o=>o.id===r.id)?n.map(o=>o.id===r.id?{...o,quantity:o.quantity+1}:o):[...n,{...r,quantity:1}]),t(!0)},u=r=>{s(n=>n.filter(_=>_.id!==r))},i=(r,n)=>{s(_=>_.map(o=>{if(o.id===r){const j=o.quantity+n;return j>0?{...o,quantity:j}:o}return o}))},v=()=>{s([])},p=a.reduce((r,n)=>r+parseFloat(n.price)*n.quantity,0),d=a.reduce((r,n)=>r+n.quantity,0);return e.jsx(B.Provider,{value:{cart:a,addToCart:l,removeFromCart:u,updateQuantity:i,clearCart:v,cartTotal:p,cartCount:d,isCartOpen:m,setIsCartOpen:t},children:c})},he={apiKey:"AIzaSyBkU9E2dw2C7UaruwE8yFL9KjXBanYXShY",authDomain:"rest-client-login.firebaseapp.com",projectId:"rest-client-login",storageBucket:"rest-client-login.firebasestorage.app",messagingSenderId:"519813385640",appId:"1:519813385640:web:c2165e5da7d06b7d0fa19d",measurementId:"G-74PV9FE3RZ"},S=ae(he),I=re(S),O=ne(S);oe(S);ce(S);const U=f.createContext(),E=()=>f.useContext(U),ge=({children:c})=>{const[a,s]=f.useState(null),[m,t]=f.useState(null),[l,u]=f.useState(!0);f.useEffect(()=>{const p=le(I,async d=>{if(d){const r=M(O,"users",d.uid),n=await T(r);n.exists()?t(n.data().role):t(null),s(d)}else s(null),t(null);u(!1)});return()=>p()},[]);const v={user:a,role:m,loading:l,logout:async()=>{await ie(I),s(null),t(null)},setRole:t};return e.jsx(U.Provider,{value:v,children:!l&&c})},Oe=({children:c,className:a,...s})=>e.jsx("div",{className:k("bg-cream rounded-[30px] p-6 transition-all duration-300 ease-out hover:-translate-y-2 hover:shadow-[12px_12px_24px_#d1cec5,-12px_-12px_24px_#ffffff] shadow-[8px_8px_16px_#d1cec5,-8px_-8px_16px_#ffffff]",a),...s,children:c}),w=({children:c,className:a,variant:s="primary",...m})=>{const t="font-bold py-3 px-6 rounded-[20px] transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 outline-none select-none",l={primary:"bg-terracotta text-white shadow-[6px_6px_12px_#b76853,-6px_-6px_12px_#f78c6f] active:shadow-[inset_4px_4px_8px_#b76853,inset_-4px_-4px_8px_#f78c6f] hover:bg-[#e08b73]",secondary:"bg-cream text-charcoal shadow-[6px_6px_12px_#d1cec5,-6px_-6px_12px_#ffffff] active:shadow-[inset_4px_4px_8px_#d1cec5,inset_-4px_-4px_8px_#ffffff]",icon:"p-3 rounded-full aspect-square flex items-center justify-center bg-cream text-charcoal shadow-[5px_5px_10px_#d1cec5,-5px_-5px_10px_#ffffff] active:shadow-[inset_3px_3px_6px_#d1cec5,inset_-3px_-3px_6px_#ffffff] hover:text-terracotta"};return e.jsx("button",{className:k(t,l[s],a),...m,children:c})},q=({className:c,...a})=>e.jsx("input",{className:k("w-full bg-cream text-charcoal rounded-[20px] py-4 px-6 outline-none transition-all duration-200 shadow-[inset_5px_5px_10px_#d1cec5,inset_-5px_-5px_10px_#ffffff] focus:shadow-[inset_2px_2px_5px_#d1cec5,inset_-2px_-2px_5px_#ffffff] placeholder:text-sage/60",c),...a}),Le=({children:c,className:a})=>e.jsx("span",{className:k("px-4 py-2 rounded-full bg-cream text-sm font-bold text-terracotta shadow-[inset_3px_3px_6px_#d1cec5,inset_-3px_-3px_6px_#ffffff]",a),children:c}),_e=()=>{const{cart:c,isCartOpen:a,setIsCartOpen:s,removeFromCart:m,updateQuantity:t,cartTotal:l,clearCart:u}=fe(),{user:i,role:v}=E(),p=H(),[d,r]=f.useState("cart"),[n,_]=f.useState(!1),[o,j]=f.useState({name:"",phone:"",address:"",paymentMethod:"cod"});f.useEffect(()=>{i&&d==="checkout"&&(async()=>{try{const b=await T(M(O,"users",i.uid));if(b.exists()){const h=b.data();j(K=>({...K,name:h.displayName||h.name||"",phone:h.phone||i.phoneNumber||""}))}else j(h=>({...h,name:i.displayName||"",phone:i.phoneNumber||""}))}catch(b){console.error("Error autofilling checkout:",b)}})()},[i,d]);const $=x=>{x.target===x.currentTarget&&s(!1)},P=x=>{j({...o,[x.target.name]:x.target.value})},V=()=>{if(!i&&confirm("Please login to place an order and track it. login now?")){s(!1),p("/login");return}r("checkout")},Y=async x=>{x.preventDefault(),_(!0);try{const b={userId:i?i.uid:null,items:c.map(h=>({id:h.id,name:h.name,price:parseFloat(h.price),quantity:h.quantity,image:h.image})),totalAmount:l,customerName:o.name,phone:o.phone,address:o.address,paymentMethod:o.paymentMethod,status:"pending",createdAt:new Date};await de(xe(O,"orders"),b),u(),r("success")}catch(b){console.error("Error placing order:",b),alert("Failed to place order. Please try again.")}finally{_(!1)}};return a?e.jsx("div",{className:"fixed inset-0 z-[100] bg-charcoal/20 backdrop-blur-sm flex justify-end transition-opacity duration-300",onClick:$,children:e.jsxs("div",{className:"bg-cream w-full max-w-md h-full shadow-2xl flex flex-col animate-slide-in-right",children:[e.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-sage/10",children:[e.jsxs("h2",{className:"text-2xl font-bold text-terracotta flex items-center gap-2",children:[e.jsx(A,{size:24}),d==="cart"&&"Your Cart",d==="checkout"&&"Checkout",d==="success"&&"Order Placed"]}),e.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-black/5 rounded-full transition-colors text-charcoal",children:e.jsx(J,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[d==="cart"&&e.jsx(e.Fragment,{children:c.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-60",children:[e.jsx(A,{size:64,className:"text-sage"}),e.jsx("p",{className:"text-xl font-bold text-sage",children:"Your cart is empty"}),e.jsx(w,{onClick:()=>s(!1),variant:"secondary",children:"Browse Menu"})]}):e.jsx("div",{className:"space-y-6",children:c.map(x=>e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden shadow-inner flex-shrink-0",children:e.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-charcoal",children:x.name}),e.jsxs("p",{className:"text-sage text-sm font-bold",children:["$",parseFloat(x.price).toFixed(2)]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white/50 rounded-full px-2 py-1 shadow-sm",children:[e.jsx("button",{onClick:()=>t(x.id,-1),className:"w-6 h-6 flex items-center justify-center bg-white rounded-full text-charcoal hover:text-terracotta shadow-sm",children:x.quantity===1?e.jsx(D,{size:12}):e.jsx(Q,{size:12})}),e.jsx("span",{className:"font-bold text-sm w-4 text-center",children:x.quantity}),e.jsx("button",{onClick:()=>t(x.id,1),className:"w-6 h-6 flex items-center justify-center bg-terracotta text-white rounded-full shadow-sm hover:scale-110 transition-transform",children:e.jsx(X,{size:12})})]}),e.jsxs("p",{className:"text-sm font-bold text-terracotta",children:["$",(x.price*x.quantity).toFixed(2)]})]})]},x.id))})}),d==="checkout"&&e.jsxs("form",{id:"checkout-form",onSubmit:Y,className:"space-y-6",children:[!i&&e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl flex items-start gap-3 border border-yellow-100 text-yellow-800 text-sm",children:[e.jsx(G,{size:18,className:"mt-0.5 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"You are ordering as a guest."}),e.jsx("p",{className:"mt-1",children:"Login to save this order to your history."}),e.jsx("button",{type:"button",onClick:()=>{s(!1),p("/login")},className:"mt-2 text-terracotta hover:underline font-bold",children:"Login Now"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-sage uppercase tracking-widest",children:"Full Name"}),e.jsx(q,{name:"name",value:o.name,onChange:P,required:!0,placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-sage uppercase tracking-widest",children:"Phone Number"}),e.jsx(q,{name:"phone",value:o.phone,onChange:P,required:!0,placeholder:"+1 234 567 8900"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-sage uppercase tracking-widest",children:"Delivery Address"}),e.jsx("textarea",{name:"address",value:o.address,onChange:P,required:!0,placeholder:"123 Main St, Apt 4B...",className:"w-full bg-cream text-charcoal rounded-[20px] py-4 px-6 outline-none h-24 resize-none shadow-[inset_5px_5px_10px_#d1cec5,inset_-5px_-5px_10px_#ffffff] focus:shadow-[inset_2px_2px_5px_#d1cec5,inset_-2px_-2px_5px_#ffffff] font-medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-sage uppercase tracking-widest",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{type:"button",onClick:()=>j({...o,paymentMethod:"cod"}),className:`p-4 rounded-2xl font-bold text-sm transition-all ${o.paymentMethod==="cod"?"bg-terracotta text-white shadow-[inset_2px_2px_5px_rgba(0,0,0,0.2)]":"bg-white text-sage shadow-[4px_4px_8px_#d1cec5,-4px_-4px_8px_#ffffff]"}`,children:"Cash on Delivery"}),e.jsx("button",{type:"button",onClick:()=>j({...o,paymentMethod:"online"}),className:`p-4 rounded-2xl font-bold text-sm transition-all ${o.paymentMethod==="online"?"bg-terracotta text-white shadow-[inset_2px_2px_5px_rgba(0,0,0,0.2)]":"bg-white text-sage shadow-[4px_4px_8px_#d1cec5,-4px_-4px_8px_#ffffff]"}`,children:"Online Payment"})]})]})]}),d==="success"&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center animate-bounce",children:e.jsx(A,{size:48})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-charcoal mb-2",children:"Order Placed!"}),e.jsxs("p",{className:"text-sage",children:["Thank you for ordering with Fake Kitchen.",e.jsx("br",{}),"Your food is being prepared."]})]}),e.jsx(w,{onClick:()=>{s(!1),r("cart")},variant:"primary",children:"Continue Shopping"})]})]}),d!=="success"&&c.length>0&&e.jsxs("div",{className:"p-6 border-t border-sage/10 bg-white/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"text-lg font-bold text-charcoal",children:"Total"}),e.jsxs("span",{className:"text-2xl font-extrabold text-terracotta",children:["$",l.toFixed(2)]})]}),d==="cart"?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs(w,{onClick:V,className:"w-full justify-center text-lg py-4",children:["Checkout ",e.jsx(W,{className:"ml-2"})]}),e.jsxs("button",{onClick:u,className:"text-sage text-sm font-semibold hover:text-red-500 transition-colors flex items-center justify-center gap-2",children:[e.jsx(D,{size:16})," Clear Cart"]})]}):e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w,{onClick:()=>r("cart"),variant:"secondary",className:"flex-1 justify-center py-4",children:"Back"}),e.jsx(w,{className:"flex-[2] justify-center text-lg py-4",onClick:()=>document.getElementById("checkout-form").requestSubmit(),disabled:n,children:n?e.jsx(Z,{className:"animate-spin"}):"Confirm Order"})]})]})]})}):null},je=()=>{const{user:c,role:a,loading:s}=E(),m=F();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-terracotta"})}):c?a!=="admin"?e.jsx(C,{to:"/",replace:!0}):e.jsx(L,{}):e.jsx(C,{to:"/login",state:{from:m},replace:!0})},be=()=>{const{user:c,role:a,loading:s}=E(),m=F();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-terracotta"})}):c?a!=="customer"?e.jsx(C,{to:"/admin",replace:!0}):e.jsx(L,{}):e.jsx(C,{to:"/login",state:{from:m},replace:!0})},ye=()=>{const{user:c,role:a,loading:s}=E();return s?null:c&&a==="admin"?e.jsx(C,{to:"/admin",replace:!0}):e.jsx(L,{})},ve=y.lazy(()=>N(()=>import("./Home-C5byPmBQ.js"),__vite__mapDeps([0,1,2,3,4]))),z=y.lazy(()=>N(()=>import("./AdminDashboard-CiGCLW9H.js"),__vite__mapDeps([5,1,2,3]))),Ne=y.lazy(()=>N(()=>import("./Login-ge6hURMs.js"),__vite__mapDeps([6,1,2,3]))),we=y.lazy(()=>N(()=>import("./Menu-B4gcXeJq.js"),__vite__mapDeps([7,1,2,4,3]))),Ce=y.lazy(()=>N(()=>import("./About-Dlwzewaj.js"),__vite__mapDeps([8,1,2,4,3]))),ke=y.lazy(()=>N(()=>import("./Account-MNNV-gJW.js"),__vite__mapDeps([9,1,2,4,3])));function Se(){return e.jsx(ee,{children:e.jsx(ge,{children:e.jsxs("div",{className:"min-h-screen bg-cream text-charcoal font-sans selection:bg-terracotta selection:text-white relative",children:[e.jsx(_e,{}),e.jsx(y.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-terracotta"})}),children:e.jsxs(te,{children:[e.jsxs(g,{element:e.jsx(ye,{}),children:[e.jsx(g,{path:"/",element:e.jsx(ve,{})}),e.jsx(g,{path:"/menu",element:e.jsx(we,{})}),e.jsx(g,{path:"/about",element:e.jsx(Ce,{})}),e.jsx(g,{path:"/login",element:e.jsx(Ne,{})}),e.jsx(g,{element:e.jsx(be,{}),children:e.jsx(g,{path:"/account",element:e.jsx(ke,{})})})]}),e.jsxs(g,{path:"/admin/*",element:e.jsx(je,{}),children:[e.jsx(g,{index:!0,element:e.jsx(z,{})}),e.jsx(g,{path:"*",element:e.jsx(z,{})})]})]})})]})})})}se.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(me,{children:e.jsx(Se,{})})}));export{Oe as C,q as a,w as b,Le as c,O as d,I as e,fe as f,E as u};
